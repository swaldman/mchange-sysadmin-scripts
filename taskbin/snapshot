#!/usr/bin/env -S scala-cli shebang --server=false --suppress-directives-in-multiple-files-warning

//> using file ../project.scala

import com.mchange.sysadmin.taskrunner.*

val taskRunner = new TaskRunner[Unit]
import taskRunner.*

val task = new Task:
  val name = "Snapshot"
  val init = ()
  val bestEffortSetups = Set(
    Step.Exec("Memory use snapshot", List("free", "-h")),
    Step.Exec("Storage snapshot", List("df","-h"))
  )
  val sequential = Nil
  val bestEffortFollowups = Set.empty

val reporters = Reporters.default()

runAndReport(task,reporters)

